<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>세션다루기</title>
</head>
<body>
<h1>1단계</h1>
<form name="form1">
이름 : <input name="name"><br>
<button id="btn1" type="button">다음</button><br>
</form>
<script>

document.querySelector("#btn1").onclick = function() {
	var fd = new FormData(document.forms.namedItem("form1"));
	  //console.log(new URLSearchParams(fd).toString());
	  
	  fetch("/session/step1", {
		  method: "POST",
		  body: new URLSearchParams(fd) //그냥 fd를 주면 멀티파트로 보낸다. URLSearchParams로 보내면 name=xxx&age=11 이런식으로 요청한다.
	  }).then(function(response){
		  return response.text();
	  }).then(function(text){
		  console.log(text);
		  location.href="session-step2.html"
	  });

};


</script>
</body>
</html>