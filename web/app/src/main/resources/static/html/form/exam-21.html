<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AJAX</title>
</head>
<body>
<h1>AJAX POST 요청- 동기 요청</h1>


<form id="form">
  이름: <input type="text" name="name"><br>
  나이: <input type="number" name="age"><br>
  사진: <input type="file" name="photo"><br>
  <button id="btn" type="button">요청</button> <!--type="button"을 주지 않으면 submit 서버에 요청을 한다.-->
</form>

<script>
  document.querySelector("#btn").onclick = function(){
    
    // 비동기 요청 작업을 수행할 객체를 준비한다.
    var xhr = new XMLHttpRequest();

    // 서버에 연결한다.
    xhr.open(
      "POST", //요청 메서드
      "/html/form/exam21", //요청URL
      false //비동기여부
      );

    //서버에 보내는 데이터 형식을 설정한다(OPEN 다음에 해야함)
    //서버에 POST 방식으로 데이터를 보내는 경우 다음과 같이 MIME 타입을 설정해야 한다.
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

    // 서버에 요청한다.
    // -> 동기방식일 경우 서버에서 응답이 올 때까지 리턴하지 않는다.
    xhr.send("name=aaa&age=22");

    //서버의 응답을 꺼낸다.
    console.log(xhr.responseText)

  };
</script>


</body>
</html>